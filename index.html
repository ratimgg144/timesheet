<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Timesheet Tracker</title>
	<link rel="stylesheet" href="./styles.css" />
	<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" defer></script>
	<script src="./script.js" defer></script>
</head>
<body>
	<div class="container">
		<header class="topbar">
			<div class="brand">
				<img id="brandLogo" src="https://i.ibb.co/tw9nL9M1/Group-1171275608.png" alt="Target Test Prep" />
				<div class="brand-txt">
					<strong>Timesheet Tracker</strong>
					<span>Team Productivity Dashboard</span>
				</div>
			</div>
			<div class="topbar-actions">
				<button id="chatToggle" class="btn btn-secondary">
					ðŸ’¬ Chat <span id="unreadCount" class="unread-badge" style="display: none;">0</span>
				</button>
				<button id="exportExcel" class="btn btn-primary">ðŸ“Š Export Excel</button>
			</div>
		</header>

		<!-- Chat Modal -->
		<div id="chatModal" class="modal">
			<div class="modal-content chat-modal">
				<div class="chat-header">
					<h3>Team Chat</h3>
					<div class="online-indicators">
						<span id="onlineCount">0 online</span>
						<div id="onlineList" class="online-list"></div>
					</div>
					<button id="closeChat" class="close-btn">&times;</button>
				</div>
				
				<div class="chat-messages" id="chatMessages">
					<!-- Messages will be populated here -->
				</div>
				
				<div class="typing-indicator" id="typingIndicator" style="display: none;">
					<span id="typingText"></span>
				</div>
				
				<div class="chat-input-area">
					<div class="reply-preview" id="replyPreview" style="display: none;">
						<div class="reply-content">
							<span class="reply-author"></span>
							<span class="reply-text"></span>
						</div>
						<button id="cancelReply" class="cancel-reply">&times;</button>
					</div>
					<div class="chat-input-wrapper">
						<input type="text" id="chatInput" placeholder="Type a message... (use @name to mention)" />
						<button id="sendMessage" class="btn btn-primary">Send</button>
					</div>
				</div>
			</div>
		</div>

		<main class="main-content">
			<!-- Filters Section -->
			<section class="card">
				<div class="filters">
					<div class="filter">
						<label for="filterDesigner">Designer</label>
						<select id="filterDesigner">
							<option value="">All Designers</option>
							<option value="Rati">Rati</option>
							<option value="Steven">Steven</option>
							<option value="Cristian">Cristian</option>
							<option value="Santiago">Santiago</option>
							<option value="Andrea">Andrea</option>
							<option value="Valentina">Valentina</option>
							<option value="Megui">Megui</option>
						</select>
					</div>
					<div class="filter">
						<label for="filterWeek">Week</label>
						<select id="filterWeek">
							<option value="">All Weeks</option>
						</select>
					</div>
					<div class="filter">
						<label for="smartFilter">Quick Filters</label>
						<select id="smartFilter">
							<option value="">All Time</option>
							<option value="today">Today</option>
							<option value="week">This Week</option>
							<option value="month">Last 30 Days</option>
						</select>
					</div>
					<div class="filter">
						<label for="searchInput">Search</label>
						<input type="text" id="searchInput" placeholder="Search tasks, designers, comments..." />
					</div>
				</div>
			</section>

			<!-- Add Task Form -->
			<section class="card">
				<h2>Add New Task</h2>
				<form id="taskForm">
					<div class="form-row">
						<div class="form-group">
							<label for="designerSelect">Designer</label>
							<select id="designerSelect" required>
								<option value="">Select Designer</option>
								<option value="Rati">Rati</option>
								<option value="Steven">Steven</option>
								<option value="Cristian">Cristian</option>
								<option value="Santiago">Santiago</option>
								<option value="Andrea">Andrea</option>
								<option value="Valentina">Valentina</option>
								<option value="Megui">Megui</option>
							</select>
						</div>
						<div class="form-group">
							<label for="taskDescription">Task Description</label>
							<input type="text" id="taskDescription" placeholder="What did you work on?" required />
						</div>
					</div>
					
					<div class="form-row">
						<div class="form-group">
							<label for="startTime">Start Time</label>
							<input type="time" id="startTime" />
						</div>
						<div class="form-group">
							<label for="endTime">End Time</label>
							<input type="time" id="endTime" />
						</div>
						<div class="form-group">
							<label for="taskComments">Comments/Mentions</label>
							<input type="text" id="taskComments" placeholder="Add comments or @mention someone" />
						</div>
					</div>

					<div class="timer-section">
						<div class="timer-display">
							<span id="timerDisplay">00:00:00</span>
							<button type="button" id="startTimer" class="btn btn-success">Start Task</button>
							<button type="button" id="stopTimer" class="btn btn-danger" style="display: none;">Stop Task</button>
							<button type="button" id="resetTimer" class="btn btn-secondary">Reset</button>
						</div>
					</div>

					<button type="submit" class="btn btn-primary">Save Task</button>
				</form>
			</section>

			<!-- Daily Summary -->
			<section class="card">
				<h2>Today's Summary</h2>
				<div id="dailySummary" class="summary-grid">
					<!-- Summary will be populated here -->
				</div>
			</section>

			<!-- Export Controls -->
			<section class="card">
				<h2>Export Data</h2>
				<div class="export-controls">
					<div class="export-row">
						<div class="form-group">
							<label for="exportStart">Start Date</label>
							<input type="date" id="exportStart" />
						</div>
						<div class="form-group">
							<label for="exportEnd">End Date</label>
							<input type="date" id="exportEnd" />
						</div>
						<button id="exportCustomRange" class="btn btn-secondary">Export Custom Range</button>
						<button id="copyCsv" class="btn btn-secondary">ðŸ“‹ Copy CSV</button>
					</div>
				</div>
			</section>

			<!-- Team Feed -->
			<section class="card">
				<h2>Recent Activity</h2>
				<div id="teamFeed" class="team-feed">
					<!-- Activity will be populated here -->
				</div>
			</section>

			<!-- View Toggle -->
			<div class="view-toggle">
				<button id="tableViewBtn" class="btn btn-secondary active">ðŸ“Š Table View</button>
				<button id="cardsViewBtn" class="btn btn-secondary">ðŸŽ´ Cards View</button>
			</div>

			<!-- Entries Display -->
			<div id="entriesContainer">
				<!-- Table View -->
				<div id="tableView" class="table-container">
					<table id="entriesTable">
						<thead>
							<tr>
								<th>Designer</th>
								<th>Date</th>
								<th>Start Time</th>
								<th>End Time</th>
								<th>Duration</th>
								<th>Task</th>
								<th>Comments</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody id="entriesTableBody">
							<!-- Entries will be populated here -->
						</tbody>
					</table>
				</div>

				<!-- Cards View -->
				<div id="cardsView" class="cards-container" style="display: none;">
					<!-- Cards will be populated here -->
				</div>
			</div>
		</main>
	</div>

	<!-- Login Modal -->
	<div id="loginModal" class="modal">
		<div class="modal-content">
			<h2>Login to Chat</h2>
			<form id="loginForm">
				<div class="form-group">
					<label for="loginDesigner">Select Your Name</label>
					<select id="loginDesigner" required>
						<option value="">Choose your name</option>
						<option value="Rati">Rati</option>
						<option value="Steven">Steven</option>
						<option value="Cristian">Cristian</option>
						<option value="Santiago">Santiago</option>
						<option value="Andrea">Andrea</option>
						<option value="Valentina">Valentina</option>
						<option value="Megui">Megui</option>
					</select>
				</div>
				<div class="form-group">
					<label for="loginPassword">Password</label>
					<input type="password" id="loginPassword" placeholder="Enter your password" required />
				</div>
				<button type="submit" class="btn btn-primary">Login</button>
			</form>
		</div>
	</div>
</body>
</html>
